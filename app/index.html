<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/es5-shim/2.0.8/es5-shim.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min.js"></script>
    <![endif]-->

    <div ng-include="'menu.html'"></div>
    <div id="page" ng-view></div>
    <div ng-include="'login.html'"></div>

    <script type="text/ng-template" id="login.html">
      <div id="login" class="modal hide fade" data-backdrop="static" data-keyboard="false">
        <form class="form-horizontal" ng-submit="userService.login();">
          <div class="modal-header">
            <h3>Sign In</h3>
          </div>
          <div class="modal-body">
            <div ui-if="userService.message" class="alert alert-error">
              {{userService.message}}
            </div>
            <div>
              <div class="control-group">
                <label class="control-label" for="userName">User Name</label>

                <div class="controls">
                  <input type="text" id="userName" ng-model="userService.user.userName" ui-event="{blur:'checkAutoCompletion()'}" autofocus>
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" for="password">Password</label>

                <div class="controls">
                  <input type="password" id="password" ng-model="userService.user.password">
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn pull-right" ng-disabled="!userService.user.userName || !userService.user.password">
              <i class="icon-user icon-white"></i> Sign In
            </button>
          </div>
        </form>
      </div>
    </script>

    <script type="text/ng-template" id="menu.html">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container-fluid">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="index.html">{{app.name}}</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li ng-repeat="item in app.menu" class="{{isActiveMenu(item) && 'active' || ''}}">
                  <a href="#{{item.url}}">{{item.name}}</a>
                </li>
              </ul>
              <ul class="nav pull-right">
                <li>
                  <a target="_blank" ng-href="{{app.helpUrl}}" ng-show="app.helpUrl">Help</a>
                </li>
                <li class="dropdown active" ng-show="userService.user">
                  <a data-toggle="dropdown" class="dropdown-toggle" href="#">{{userService.user.name}}<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a tabindex="-1" ng-click="userService.logout()">Sign Out</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </script>

    <!-- build:js scripts/main.js -->
    <script data-main="scripts/main" src="components/requirejs/require.js"></script>
    <!-- endbuild -->

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>
